<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <script src="/javascripts/esl.js"></script>
    <script src="/javascripts/config.js"></script>   <link rel='stylesheet' href='stylesheets/nav.css' />
    <title>Melbourne Punchcard</title>
        <style>
        body { 
            margin:0; 
            padding:0; 
            background-color:#303030;
        }
        #menu {
            top: 10px;
            right: 10px;
            border-radius: 5px;
            width: 120px;
            border: 0px solid rgba(0,0,0,0.4);
            font-family: 'Open Sans', sans-serif;
        }

        #menu a {
            font-size: 16px;
            display: block;
            margin: 0;
            padding: 0;
            text-decoration: none;
            border-bottom: 1px solid rgba(0,0,0,0.25);
            text-align: center;
            background-color: rgba(0,0,0,0); 
            color: black;
            border-radius: 5px;
            text-align: left;
            backdrop-filter: blur(15px);
            font-family:'Helvetica Neue', Arial, Helvetica, sans-serif;
        }

        #menu a:last-child {
            border: none;
        }

        #menu a:hover {
            color:firebrick;
        }

        #menu a.active {
        }

        #menu a.active:hover {
            color:firebrick;
        }
        html,body,#main{
            height: 100%;
            width: 100%;
        }
    </style>
</head>
<body>
    <div style="text-align:center">
        <ul>
            <li><a href="#"><span></span></a></li>
            <li><a href="index.html">Tweet Overview</a></li>
            <li><a href="melb_punch.html">Melb-Punch</a></li>
            <li><a href="syd_punch.html"  style='background-color:#252525'>Syd-Punch</a></li>
            <li><a href="mel_day.html">Melb-Day</a></li>
            <li><a href="syd_day.html" >Syd-Day</a></li>
            <li><a href="3d.html">3D Model</a>
        </ul>
      </div>
    <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
    <div id="main"></div>
    <script type="text/javascript">
        require.config({
            paths: {
                echarts: '/javascripts/echarts',
                zrender: '/javascripts/zrender'
            }
        });

        
        // 使用
        require(
            [
                'echarts',
                'echarts/chart/scatter',
                'echarts/component/legend',
                'echarts/component/polar'
            ],
            function (ec) {
                // 基于准备好的dom，初始化echarts图表
                var myChart = ec.init(document.getElementById('main'), null, {
                    renderer: 'canvas'
                });

                
                var hours = ['12a', '1a', '2a', '3a', '4a', '5a', '6a',
                        '7a', '8a', '9a','10a','11a',
                        '12p', '1p', '2p', '3p', '4p', '5p',
                        '6p', '7p', '8p', '9p', '10p', '11p'];
                var days = ['Saturday', 'Friday', 'Thursday',
                        'Wednesday', 'Tuesday', 'Monday', 'Sunday'];
                
                var data = [[0, 3, 0.3925619834710744],
                     [0, 4, 0.5578512396694215],
                     [0, 5, 0.43388429752066116],
                     [0, 6, 0.9504132231404959],
                     [0, 7, 1.8801652892561984],
                     [0, 8, 1.8801652892561984],
                     [0, 9, 4.194214876033058],
                     [0, 10, 3.2231404958677685],
                     [0, 11, 3.2644628099173554],
                     [0, 12, 4.070247933884298],
                     [0, 13, 1.797520661157025],
                     [0, 14, 3.822314049586777],
                     [0, 15, 10.103305785123966],
                     [0, 16, 10.888429752066116],
                     [0, 17, 13.40909090909091],
                     [0, 18, 15.0],
                     [0, 19, 9.442148760330578],
                     [0, 20, 9.793388429752067],
                     [0, 21, 10.826446280991735],
                     [0, 22, 8.057851239669422],
                     [0, 23, 4.793388429752066],
                     [1, 0, 3.0578512396694215],
                     [1, 1, 0.7024793388429752],
                     [1, 2, 0.7024793388429752],
                     [1, 3, 0.6611570247933884],
                     [1, 4, 0.9297520661157025],
                     [1, 5, 1.5082644628099173],
                     [1, 6, 3.078512396694215],
                     [1, 7, 3.553719008264463],
                     [1, 8, 5.433884297520661],
                     [1, 9, 5.06198347107438],
                     [1, 10, 4.338842975206612],
                     [1, 11, 5.413223140495868],
                     [1, 12, 6.177685950413223],
                     [1, 13, 4.81404958677686],
                     [1, 14, 5.785123966942149],
                     [1, 15, 5.289256198347108],
                     [1, 16, 6.2809917355371905],
                     [1, 17, 8.884297520661157],
                     [1, 18, 9.090909090909092],
                     [1, 19, 8.243801652892563],
                     [1, 20, 8.099173553719009],
                     [1, 21, 8.946280991735538],
                     [1, 22, 10.743801652892563],
                     [1, 23, 6.508264462809917],
                     [2, 0, 3.884297520661157],
                     [2, 1, 2.665289256198347],
                     [2, 2, 1.115702479338843],
                     [2, 3, 0.6611570247933884],
                     [2, 4, 1.0950413223140496],
                     [2, 5, 1.1983471074380165],
                     [2, 6, 2.7892561983471076],
                     [2, 7, 3.1198347107438016],
                     [2, 8, 4.400826446280992],
                     [2, 9, 5.4958677685950414],
                     [2, 10, 5.1652892561983474],
                     [2, 11, 4.8966942148760335],
                     [2, 12, 4.710743801652892],
                     [2, 13, 5.1652892561983474],
                     [2, 14, 4.917355371900826],
                     [2, 15, 4.483471074380166],
                     [2, 16, 5.681818181818182],
                     [2, 17, 7.582644628099174],
                     [2, 18, 7.871900826446281],
                     [2, 19, 2.9132231404958677],
                     [2, 20, 3.4710743801652892],
                     [2, 21, 2.541322314049587],
                     [2, 22, 2.5],
                     [2, 23, 1.4669421487603307],
                     [3, 0, 1.0537190082644627],
                     [3, 1, 0.7644628099173554],
                     [3, 2, 0.3512396694214876],
                     [3, 3, 0.30991735537190085],
                     [3, 4, 0.49586776859504134],
                     [3, 5, 0.8677685950413223],
                     [3, 6, 0.6198347107438017],
                     [3, 7, 1.6528925619834711],
                     [3, 8, 1.694214876033058],
                     [3, 9, 1.7355371900826446],
                     [3, 10, 1.7148760330578512],
                     [3, 11, 2.066115702479339],
                     [3, 12, 2.2107438016528924],
                     [3, 13, 2.1074380165289255],
                     [3, 14, 4.256198347107438],
                     [3, 15, 4.545454545454546],
                     [3, 16, 2.56198347107438],
                     [3, 17, 3.4297520661157024],
                     [3, 18, 4.93801652892562],
                     [3, 19, 3.7396694214876036],
                     [3, 20, 3.822314049586777],
                     [3, 21, 1.3016528925619835],
                     [3, 22, 2.541322314049587],
                     [3, 23, 2.355371900826446],
                     [4, 0, 0.7851239669421488],
                     [4, 1, 0.2272727272727273],
                     [4, 10, 1.797520661157025],
                     [4, 11, 2.37603305785124],
                     [4, 12, 2.0454545454545454],
                     [4, 13, 2.1074380165289255],
                     [4, 14, 1.6528925619834711],
                     [4, 15, 2.293388429752066],
                     [4, 16, 2.43801652892562],
                     [4, 17, 3.3264462809917354],
                     [4, 18, 3.8636363636363638],
                     [4, 19, 3.3057851239669422],
                     [4, 20, 3.78099173553719],
                     [4, 21, 3.243801652892562],
                     [4, 22, 2.8925619834710745],
                     [4, 23, 1.8801652892561984],
                     [5, 0, 3.181818181818182],
                     [5, 1, 1.5289256198347108],
                     [5, 2, 1.0950413223140496],
                     [5, 3, 0.8884297520661157],
                     [5, 4, 0.4132231404958678],
                     [5, 5, 0.8057851239669421],
                     [5, 6, 2.458677685950413],
                     [5, 7, 3.347107438016529],
                     [5, 8, 4.545454545454546],
                     [5, 9, 5.12396694214876],
                     [5, 10, 4.979338842975206],
                     [5, 11, 4.318181818181818],
                     [5, 12, 5.041322314049587],
                     [5, 13, 4.1735537190082646],
                     [5, 14, 2.231404958677686],
                     [5, 15, 2.4173553719008267],
                     [5, 16, 2.479338842975207],
                     [5, 17, 4.070247933884298],
                     [5, 18, 3.6983471074380168],
                     [5, 19, 2.706611570247934],
                     [5, 20, 2.169421487603306],
                     [5, 21, 2.56198347107438],
                     [5, 22, 2.541322314049587],
                     [5, 23, 2.0867768595041323],
                     [6, 0, 1.4669421487603307],
                     [6, 1, 0.7644628099173554],
                     [6, 2, 0.6198347107438017],
                     [6, 3, 0.24793388429752067],
                     [6, 4, 0.4545454545454546],
                     [6, 5, 0.3925619834710744],
                     [6, 6, 0.7024793388429752],
                     [6, 7, 1.6735537190082646],
                     [6, 8, 1.9421487603305785],
                     [6, 9, 2.644628099173554],
                     [6, 10, 2.334710743801653],
                     [6, 11, 1.962809917355372],
                     [6, 12, 2.9958677685950414],
                     [6, 13, 2.8305785123966944],
                     [6, 14, 3.450413223140496],
                     [6, 15, 1.384297520661157]];

                
                var option = {
                    color:['#FFC000'],
                    title: {
                        text: 'Punch Card of Sydney'
                    },
                    legend: {
                        data: ['Punch Card'],
                        left: 'right',
                        textStyle:{
                            color:'white',
                            fontSize:25
                        }
                    },
                    polar: {},
                    tooltip: {
                        formatter: function (params) {
                            return params.value[2] + ' commits in ' + hours[params.value[1]] + ' of ' + days[params.value[0]];
                        }
                    },
                    axisLabel : {
                        textStyle: {
                            color: 'white',
                            fontSize: 30,
                            fontStyle: 'normal',
                            fontWeight: 'bold'
                        }
                    },
                    angleAxis: {
                        type: 'category',
                        data: hours,
                        boundaryGap: false,
                        splitLine: {
                            show: true,
                            lineStyle: {
                                color: '#FFF',
                                type: 'dashed'
                            }
                        },
                        axisLine: {
                            show: false
                        }
                    },
                    radiusAxis: {
                        type: 'category',
                        data: days,
                        axisLine: {
                            show: false
                        },
                        axisLabel: {
                            rotate: 20
                        }
                    },
                    series: [{
                        name: 'Punch Card',
                        type: 'scatter',
                        coordinateSystem: 'polar',
                        symbolSize: function (val) {
                            return val[2] * 4;
                        },
                        data: data,
                        animationDelay: function (idx) {
                            return idx * 10;
                        }
                    }]
                };

                // 为echarts对象加载数据 
                myChart.setOption(option); 
            }
        );
    </script>
</body>