<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <script src="/javascripts/esl.js"></script>
    <script src="/javascripts/config.js"></script>   <link rel='stylesheet' href='stylesheets/nav.css' />
    <title>Melbourne Punchcard</title>
        <style>
        body { 
            margin:0; 
            padding:0; 
            background-color:#303030;
        }
        #menu {
            top: 10px;
            right: 10px;
            border-radius: 5px;
            width: 120px;
            border: 0px solid rgba(0,0,0,0.4);
            font-family: 'Open Sans', sans-serif;
        }

        #menu a {
            font-size: 16px;
            display: block;
            margin: 0;
            padding: 0;
            text-decoration: none;
            border-bottom: 1px solid rgba(0,0,0,0.25);
            text-align: center;
            background-color: rgba(0,0,0,0); 
            color: black;
            border-radius: 5px;
            text-align: left;
            backdrop-filter: blur(15px);
            font-family:'Helvetica Neue', Arial, Helvetica, sans-serif;
        }

        #menu a:last-child {
            border: none;
        }

        #menu a:hover {
            color:firebrick;
        }

        #menu a.active {
        }

        #menu a.active:hover {
            color:firebrick;
        }
        html,body,#main{
            height: 100%;
            width: 100%;
        }
    </style>
</head>
<body>
    <div style="text-align:center">
        <ul>
            <li><a href="#"><span></span></a></li>
            <li><a href="index.html">Tweet Overview</a></li>
            <li><a href="melb_punch.html" style='background-color:#252525'>Melb-Punch</a></li>
            <li><a href="syd_punch.html">Syd-Punch</a></li>
            <li><a href="mel_day.html">Melb-Day</a></li>
            <li><a href="syd_day.html" >Syd-Day</a></li>
            <li><a href="3d.html">3D Model</a>
        </ul>
      </div>
    <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
    <div id="main"></div>
    <script type="text/javascript">
        require.config({
            paths: {
                echarts: '/javascripts/echarts',
                zrender: '/javascripts/zrender'
            }
        });

        
        // 使用
        require(
            [
                'echarts',
                'echarts/chart/scatter',
                'echarts/component/legend',
                'echarts/component/polar'
            ],
            function (ec) {
                // 基于准备好的dom，初始化echarts图表
                var myChart = ec.init(document.getElementById('main'), null, {
                    renderer: 'canvas'
                });

                
                var hours = ['12a', '1a', '2a', '3a', '4a', '5a', '6a',
                        '7a', '8a', '9a','10a','11a',
                        '12p', '1p', '2p', '3p', '4p', '5p',
                        '6p', '7p', '8p', '9p', '10p', '11p'];
                var days = ['Saturday', 'Friday', 'Thursday',
                        'Wednesday', 'Tuesday', 'Monday', 'Sunday'];
                
                var data = [[0, 0, 2.0041322314049586],
                 [0, 1, 1.797520661157025],
                 [0, 2, 1.384297520661157],
                 [0, 3, 2.5826446280991737],
                 [0, 4, 1.6735537190082646],
                 [0, 5, 1.6115702479338843],
                 [0, 6, 1.4876033057851241],
                 [0, 7, 2.31404958677686],
                 [0, 8, 4.7727272727272725],
                 [0, 9, 8.388429752066116],
                 [0, 10, 6.136363636363637],
                 [0, 11, 8.491735537190083],
                 [0, 12, 7.231404958677686],
                 [0, 13, 5.785123966942149],
                 [0, 14, 3.553719008264463],
                 [0, 15, 5.392561983471075],
                 [0, 16, 5.578512396694215],
                 [0, 17, 5.991735537190083],
                 [0, 18, 6.177685950413223],
                 [0, 19, 5.929752066115703],
                 [0, 20, 5.640495867768595],
                 [0, 21, 5.702479338842975],
                 [0, 22, 5.2272727272727275],
                 [0, 23, 2.2107438016528924],
                 [1, 0, 0.8057851239669421],
                 [1, 1, 0.6198347107438017],
                 [1, 2, 0.6198347107438017],
                 [1, 3, 0.43388429752066116],
                 [1, 4, 0.1652892561983471],
                 [1, 5, 0.3305785123966942],
                 [1, 6, 0.7024793388429752],
                 [1, 7, 1.0537190082644627],
                 [1, 8, 1.5082644628099173],
                 [1, 9, 2.0041322314049586],
                 [1, 10, 2.0041322314049586],
                 [1, 11, 2.31404958677686],
                 [1, 12, 1.9421487603305785],
                 [1, 13, 2.190082644628099],
                 [1, 14, 2.190082644628099],
                 [1, 15, 1.6322314049586777],
                 [1, 16, 2.190082644628099],
                 [1, 17, 2.1487603305785123],
                 [1, 18, 2.1487603305785123],
                 [1, 19, 3.0165289256198347],
                 [1, 20, 3.243801652892562],
                 [1, 21, 3.3057851239669422],
                 [1, 22, 6.260330578512397],
                 [1, 23, 3.987603305785124],
                 [2, 0, 3.347107438016529],
                 [2, 1, 1.012396694214876],
                 [2, 2, 2.024793388429752],
                 [2, 3, 0.578512396694215],
                 [2, 4, 0.5578512396694215],
                 [2, 5, 0.6611570247933884],
                 [2, 6, 1.6115702479338843],
                 [2, 7, 2.5206611570247937],
                 [2, 8, 3.8016528925619837],
                 [2, 9, 4.834710743801653],
                 [2, 10, 4.855371900826446],
                 [2, 11, 4.359504132231405],
                 [2, 12, 4.462809917355372],
                 [2, 13, 4.297520661157025],
                 [2, 14, 5.18595041322314],
                 [2, 15, 5.619834710743802],
                 [2, 16, 6.074380165289257],
                 [2, 17, 7.0041322314049586],
                 [2, 18, 5.8264462809917354],
                 [2, 19, 3.65702479338843],
                 [2, 20, 2.5826446280991737],
                 [2, 21, 3.450413223140496],
                 [2, 22, 2.541322314049587],
                 [2, 23, 1.4876033057851241],
                 [3, 0, 1.0743801652892562],
                 [3, 1, 0.7024793388429752],
                 [3, 2, 0.5578512396694215],
                 [3, 3, 0.5578512396694215],
                 [3, 4, 0.4132231404958678],
                 [3, 5, 0.7438016528925621],
                 [3, 6, 1.384297520661157],
                 [3, 7, 2.541322314049587],
                 [3, 8, 3.1611570247933884],
                 [3, 9, 2.190082644628099],
                 [3, 10, 1.9834710743801653],
                 [3, 11, 2.5826446280991737],
                 [3, 12, 3.0991735537190084],
                 [3, 13, 2.541322314049587],
                 [3, 14, 5.020661157024794],
                 [3, 15, 3.450413223140496],
                 [3, 16, 2.293388429752066],
                 [3, 17, 3.59504132231405],
                 [3, 18, 3.884297520661157],
                 [3, 19, 3.0371900826446283],
                 [3, 20, 3.0991735537190084],
                 [3, 21, 0.9297520661157025],
                 [3, 22, 1.756198347107438],
                 [3, 23, 2.293388429752066],
                 [4, 0, 0.6198347107438017],
                 [4, 1, 0.08264462809917356],
                 [4, 10, 1.6528925619834711],
                 [4, 11, 2.0454545454545454],
                 [4, 12, 2.665289256198347],
                 [4, 13, 1.859504132231405],
                 [4, 14, 1.756198347107438],
                 [4, 15, 2.0867768595041323],
                 [4, 16, 2.31404958677686],
                 [4, 17, 1.9834710743801653],
                 [4, 18, 2.768595041322314],
                 [4, 19, 3.0991735537190084],
                 [4, 20, 3.078512396694215],
                 [4, 21, 3.760330578512397],
                 [4, 22, 2.31404958677686],
                 [4, 23, 2.0454545454545454],
                 [5, 0, 2.066115702479339],
                 [5, 1, 1.28099173553719],
                 [5, 2, 1.0537190082644627],
                 [5, 3, 0.37190082644628103],
                 [5, 4, 0.7438016528925621],
                 [5, 5, 0.5371900826446281],
                 [5, 6, 1.694214876033058],
                 [5, 7, 3.0991735537190084],
                 [5, 8, 4.1735537190082646],
                 [5, 9, 4.359504132231405],
                 [5, 10, 4.731404958677686],
                 [5, 11, 4.87603305785124],
                 [5, 12, 6.425619834710744],
                 [5, 13, 6.260330578512397],
                 [5, 14, 4.421487603305785],
                 [5, 15, 4.6900826446281],
                 [5, 16, 4.380165289256198],
                 [5, 17, 4.87603305785124],
                 [5, 18, 4.318181818181818],
                 [5, 19, 5.0],
                 [5, 20, 5.12396694214876],
                 [5, 21, 5.8264462809917354],
                 [5, 22, 5.12396694214876],
                 [5, 23, 3.491735537190083],
                 [6, 0, 2.6239669421487606],
                 [6, 1, 1.590909090909091],
                 [6, 2, 1.5495867768595042],
                 [6, 3, 1.0743801652892562],
                 [6, 4, 0.5371900826446281],
                 [6, 5, 0.5165289256198348],
                 [6, 6, 1.3016528925619835],
                 [6, 7, 1.8801652892561984],
                 [6, 8, 2.9132231404958677],
                 [6, 9, 3.760330578512397],
                 [6, 10, 6.322314049586777],
                 [6, 11, 5.847107438016529],
                 [6, 12, 4.93801652892562],
                 [6, 13, 5.537190082644628],
                 [6, 14, 5.206611570247934],
                 [6, 15, 5.268595041322314],
                 [6, 16, 5.929752066115703],
                 [6, 17, 5.516528925619835],
                 [6, 18, 4.297520661157025],
                 [6, 19, 4.710743801652892],
                 [6, 20, 4.400826446280992],
                 [6, 21, 4.5041322314049586],
                 [6, 22, 4.958677685950414],
                 [6, 23, 3.8016528925619837]];

                
                var option = {
                    color:['#FFC000'],
                    title: {
                        text: 'Punch Card of Melbourne'
                    },
                    legend: {
                        data: ['Punch Card'],
                        left: 'right',
                        textStyle:{
                            color:'white',
                            fontSize:25
                        }
                    },
                    polar: {},
                    tooltip: {
                        formatter: function (params) {
                            return params.value[2] + ' commits in ' + hours[params.value[1]] + ' of ' + days[params.value[0]];
                        }
                    },
                    axisLabel : {
                        textStyle: {
                            color: 'white',
                            fontSize: 30,
                            fontStyle: 'normal',
                            fontWeight: 'bold'
                        }
                    },
                    angleAxis: {
                        type: 'category',
                        data: hours,
                        boundaryGap: false,
                        splitLine: {
                            show: true,
                            lineStyle: {
                                color: '#FFF',
                                type: 'dashed'
                            }
                        },
                        axisLine: {
                            show: false
                        }
                    },
                    radiusAxis: {
                        type: 'category',
                        data: days,
                        axisLine: {
                            show: false
                        },
                        axisLabel: {
                            rotate: 20
                        }
                    },
                    series: [{
                        name: 'Punch Card',
                        type: 'scatter',
                        coordinateSystem: 'polar',
                        symbolSize: function (val) {
                            return val[2] * 4;
                        },
                        data: data,
                        animationDelay: function (idx) {
                            return idx * 10;
                        }
                    }]
                };

                // 为echarts对象加载数据 
                myChart.setOption(option); 
            }
        );
    </script>
</body>